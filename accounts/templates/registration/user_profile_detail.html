{% extends 'base.html' %}
{% load static %}

{% block title %}
  {% if user.is_authenticated %}
    {{ profile_page_user.user.first_name }} {{ profile_page_user.user.last_name }} Profile
{% else %}
  Cave Blog
{% endif %}
{% endblock %}

{% block content %}

{% if user.is_authenticated %}
<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card mb-3">
        <div class="row g-0">
          <div class="col-md-4">

            {% if not profile.profile_picture %}
                <img src="{% static 'images/default_profile_picture.webp' %}" class="img-fluid rounded-start" alt="Default Profile Picture">
            {% else %}
                <img src="{{ profile.profile_picture.url }}" class="img-fluid rounded-start" alt="{{ request.user.username }} Profile Picture">
            {% endif %}

          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="card-title">{{ profile_page_user.user.username }}</h5>
              <p class="card-text">First Name: {{ profile_page_user.user.first_name }}</p>
              <p class="card-text">Last Name: {{ profile_page_user.user.last_name }}</p>
              <div class="mb-3">
                {% if profile.website_url %}
                <a href="{{ profile.website_url }}" class="btn btn-primary">Website</a>
                {% endif %}
                {% if profile.facebook_url %}
                <a href="{{ profile.facebook_url }}" class="btn btn-primary">Facebook</a>
                {% endif %}
                {% if profile.instagram_url %}
                <a href="{{ profile.instagram_url }}" class="btn btn-primary">Instagram</a>
                {% endif %}
              </div>
              <p class="card-text">City: {{ profile.city }}</p>
              <p class="card-text">Country: {{ profile.country }}</p>
              <p class="card-text">User Bio: {{ profile.userbio }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

{% else %}
  <div class="alert alert-danger" role="alert">Please login to your account if you want to read a Userprofile!</div>
{% endif %}

{% endblock %}